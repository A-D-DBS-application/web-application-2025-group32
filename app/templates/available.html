<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Beschikbare Bureaus</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background-color: #eef0f7; }
        .header { background-color: #00c4d6; color: white; padding: 20px; text-align: center; }
        .container { display: flex; min-height: calc(100vh - 60px); }
        .left-panel { flex: 2; padding: 20px; background-color: #eef0f7; overflow-y: auto; }
        .right-panel { flex: 1; padding: 20px; background-color: #f5f5f5; border-left: 2px solid #ddd; }
        .back-link { display: inline-block; margin-bottom: 15px; color: #00c4d6; text-decoration: none; font-weight: bold; }
        .desk-card { background: white; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: flex-end; }
        .desk-info h4 { color: #00c4d6; margin-bottom: 8px; }
        .desk-info p { color: #666; font-size: 14px; margin: 5px 0; }
        .select-btn { background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .select-btn:hover { background-color: #218838; }
        .no-results { background: white; padding: 30px; text-align: center; color: #666; border-radius: 4px; }
        .filter-section { background: white; padding: 15px; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .filter-section h3 { margin-bottom: 15px; color: #333; }
        select, input { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .filter-btn { width: 100%; padding: 10px; background-color: #28a745; color: white; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; }
        .filter-btn:hover { background-color: #218838; }
        a { text-decoration: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Beschikbare Bureaus</h1>
        <p>{{ saved.date }} van {{ saved.start_time }} tot {{ saved.end_time }}</p>
    </div>
    <div class="container">
        <div class="left-panel">
            <a href="{{ url_for('main.reserve', building_id=saved.building_id, floor=saved.floor, date=saved.date, start_time=saved.start_time, end_time=saved.end_time) }}" class="back-link">‚Üê Wijzigen</a>
            {% if desks %}
                {% for desk in desks %}
                    <div class="desk-card">
                        <div class="desk-info">
                            <h4>Bureau {{ desk.desk_number }} - Gebouw {{ desk.building.adress }}</h4>
                            <p>Afdeling: {{ desk.dienst_id }}</p>
                        </div>
                        <a href="{{ url_for('main.desk_detail', desk_id=desk.desk_id, date=saved.date, start_time=saved.start_time, end_time=saved.end_time) }}">
                            <button class="select-btn">‚úî Selecteer</button>
                        </a>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-results">
                    <p>Geen beschikbare bureaus gevonden.</p>
                </div>
            {% endif %}
        </div>
        <div class="right-panel">
            <button class="filter-btn" onclick="toggleFilters()">üìã Filters</button>
            <div class="filter-section" id="filters" style="display: none; margin-top: 15px;">
                <h3>Filteropties</h3>
                <form method="GET">
                    <input type="hidden" name="building_id" value="{{ saved.building_id }}">
                    <input type="hidden" name="floor" value="{{ saved.floor }}">
                    <input type="hidden" name="date" value="{{ saved.date }}">
                    <input type="hidden" name="start_time" value="{{ saved.start_time }}">
                    <input type="hidden" name="end_time" value="{{ saved.end_time }}">
                    
                    <label>Filter op gebouw</label>
                    <select name="building_id">
                        <option value="">Alle gebouwen</option>
                        {% for building in buildings %}
                            <option value="{{ building.adress }}" {% if saved.building_id|string == building.adress|string %}selected{% endif %}>{{ building.adress }}</option>
                        {% endfor %}
                    </select>
                    
                    <button type="submit" class="filter-btn">Toepassen</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        function toggleFilters() {
            var filters = document.getElementById('filters');
            filters.style.display = filters.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
