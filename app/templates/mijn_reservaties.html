<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Mijn reservaties</title>
    <style>
        :root{--primary:#0bbdca;--muted:#6b7280;--card:#ffffff}
        body { font-family: Inter, Arial, sans-serif; background:#f4f6fa; color:#2c3137; padding:28px }
        .card { background: var(--card); padding:22px; border-radius:14px; box-shadow:0 8px 30px rgba(11,189,202,0.06); max-width:1100px; margin:0 auto }
        h1 { color:var(--primary); margin:0 0 6px 0 }
        p.lead { color:var(--muted); margin-top:0 }
        .meta { display:flex; gap:12px; align-items:center; margin-bottom:18px }
        table { width:100%; border-collapse:collapse; margin-top:8px; font-size:15px }
        thead th { text-align:left; color:#475569; font-weight:600; padding:12px 10px; border-bottom:1px solid #eef2f7 }
        tbody td { padding:12px 10px; border-bottom:1px solid #f1f5f9 }
        .empty { padding:30px; text-align:center; color:var(--muted) }
        .btn { background:var(--primary); color:white; padding:10px 14px; border-radius:10px; text-decoration:none }
        .muted-link { color:#64748b; text-decoration:none }
        .row-actions { display:flex; gap:8px }
        @media (max-width:800px){ table, thead, tbody, th, td, tr { display:block } thead{display:none} td{padding:10px 6px;border-bottom:1px solid #eee} td:before{content:attr(data-label);font-weight:600;display:block;margin-bottom:6px;color:#475569} }
    </style>
</head>
<body>
<div class="card">
    <h1>Mijn reservaties</h1>
    <p>Overzicht van je toekomstige en afgelopen reservaties.</p>

    {% if reservations and reservations|length > 0 %}
    <table>
        <thead>
            <tr>
                <th>Reservatie ID</th>
                <th>Gebouw</th>
                <th>Bureau</th>
                <th>Begintijd</th>
                <th>Eindtijd</th>
            </tr>
        </thead>
        <tbody>
            {% for r in reservations %}
            <tr>
                <td data-label="ID">{{ r.res_id }}</td>
                <td data-label="Gebouw">{{ r.building_adress or '-' }}</td>
                <td data-label="Bureau">{{ r.desk_number or '-' }}</td>
                <td data-label="Begintijd">{{ r.starttijd.strftime('%Y-%m-%d %H:%M') if r.starttijd else '-' }}</td>
                <td data-label="Eindtijd">{{ r.eindtijd.strftime('%Y-%m-%d %H:%M') if r.eindtijd else '-' }}</td>
                <td data-label="Acties">
                    <div class="row-actions">
                        <form method="post" action="{{ url_for('main.cancel_reservation', res_id=r.res_id) }}" onsubmit="return confirm('Weet je zeker dat je deze reservatie wilt annuleren?');">
                            <button type="submit" class="btn" style="background:#ef4444">Annuleer</button>
                        </form>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="empty">
        Je hebt nog geen reservaties.
    </div>
    {% endif %}

    <div style="margin-top:18px">
        <a class="btn" href="{{ url_for('main.reserve') }}">Nieuwe reservatie</a>
        <a style="margin-left:8px; color:#555" href="{{ url_for('home') }}">Terug naar home</a>
    </div>
</div>
</body>
</html>